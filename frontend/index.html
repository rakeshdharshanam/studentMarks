<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <script type="text/javascript">
      
      function addstudent(){

        var url = "http://www.localhost:8081/addstudent";
        var formData = new FormData(document.getElementById("studentform"));
        var id = formData.get("id");
        var name = formData.get("name");
        
        var data = {"id" : id, "name": name};

        axios.post(url,data).then((res)=>{console.log(res)});

      }


      function getstudents(){

        axios.get("http:www.localhost:8081/getstudents").then((res) => {console.log(res.data);});


      }

       async function getcolleges(){
        // var data;

        // axios.get("http:www.localhost:8081/getcolleges").then((res) => { data = res.data; console.log(res.data);});

        const  data = await axios.get("http:www.localhost:8081/getcolleges");

        var tag = "";

        console.log(data.data[0]["name"]);

        for(let i = 0; i<data.data.length; i++){
          tag += "<tr>"+data.data[i]["name"]+"</tr>"; 
        }

        console.log(tag)

        var table = document.getElementById("table");
        table.innerHTML = tag;
      }


    </script>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>Hello, world!</title>
  </head>
  <body>
    <h1>Hello, world!</h1>


    <form  id="studentform" onsubmit="return false">
  <label for="id">Student id</label><br>
  <input type="text" id="id" name="id"><br>
  <label for="name">Student name:</label><br>
  <input type="text" id="name" name="name">

   <input type="submit" value="add student" onclick="addstudent()">
</form>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>



    <button onclick= "getstudents()">get students data</button>
    <button onclick= "getcolleges()">get colleges data</button>


    <table id = "table">
      <tr>testing</tr>
    </table>



  </body>
</html>